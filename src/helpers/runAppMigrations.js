import appConfig from "../config/appConfig";

const defaultPartners = [
  {
    id: 1,
    partnerCode: "A1",
    partnerName: "TechNova",
    contactPerson: "Alice Fernando",
    email: "alice@technova.lk",
    address: "No. 22, Colombo Rd, Kandy",
    phone1: "(071) 555-1122",
    phone2: "0112233445",
    isCustomer: true,
    isSupplier: false,
    isEmployee: false,
    active: true,
    createdAt: "2025-07-25T10:00:00.000Z",
    updatedAt: "2025-07-28T09:00:00.000Z",
  },
  {
    id: 2,
    partnerCode: "B2",
    partnerName: "Lanka Supplies",
    contactPerson: "Bandara Silva",
    email: "bandara@lankasup.lk",
    address: "Industrial Zone, Galle",
    phone1: "(075) 223-4433",
    phone2: "0112244556",
    isCustomer: false,
    isSupplier: true,
    isEmployee: false,
    active: true,
    createdAt: "2025-07-15T14:00:00.000Z",
    updatedAt: "2025-07-29T18:00:00.000Z",
  },
  {
    id: 3,
    partnerCode: "EMP3",
    partnerName: "Nuwan Perera",
    contactPerson: "Nuwan",
    email: "nuwan@company.lk",
    address: "123 Main St, Negombo",
    phone1: "(070) 456-7890",
    phone2: "0114567890",
    isCustomer: false,
    isSupplier: false,
    isEmployee: true,
    active: false,
    createdAt: "2025-06-20T12:30:00.000Z",
    updatedAt: "2025-07-20T12:30:00.000Z",
  },
];

const defaultInquiries = [
  {
    id: 1,
    jobDate: "2025-07-28",
    deliveredBy: "Nimal",
    customer: 1,
    itemName: "Lenovo ThinkPad",
    serialNo: "LTP-001",
    description: "Display flickering",
    toDo: "Check display cable & driver",
    charger: true,
    powerCable: true,
    bag: false,
    toner: false,
    cartridge: false,
    ribbon: false,
    mouse: false,
    usbcable: true,
    videoCable: false,
    serviceType: 1,
    priority: 2,
    dueDate: "2025-08-01",
    status: "new",
    log: [{ status: "new", timestamp: "2025-07-28T08:30:00Z" }],
    createdAt: "2025-07-28T08:30:00Z",
    updatedAt: "2025-07-28T08:30:00Z",
  },
  {
    id: 2,
    jobDate: "2025-07-30",
    deliveredBy: "q",
    customer: 2,
    itemName: "qqq",
    serialNo: "qqqqq",
    description: "qqq",
    toDo: "qq",
    charger: false,
    powerCable: false,
    bag: false,
    toner: false,
    cartridge: false,
    ribbon: false,
    mouse: false,
    usbcable: false,
    videoCable: false,
    serviceType: 1,
    priority: 2,
    dueDate: "2025-07-30",
    status: "new",
    log: [{ status: "new", timestamp: "2025-07-30T06:51:39.577Z" }],
    createdAt: "2025-07-30T06:51:39.577Z",
    updatedAt: "2025-07-30T06:51:39.577Z",
  },
  {
    id: 3,
    jobDate: "2025-07-27",
    deliveredBy: "Chamara",
    customer: 3,
    itemName: "HP Inkjet Printer",
    serialNo: "PRT-786",
    description: "Paper jam",
    toDo: "Clean rollers",
    charger: false,
    powerCable: true,
    bag: false,
    toner: true,
    cartridge: true,
    ribbon: false,
    mouse: false,
    usbcable: false,
    videoCable: false,
    serviceType: 2,
    priority: 1,
    dueDate: "2025-07-31",
    status: "in_progress",
    log: [
      { status: "new", timestamp: "2025-07-27T09:00:00Z" },
      { status: "in_progress", timestamp: "2025-07-28T10:30:00Z" },
    ],
    createdAt: "2025-07-27T09:00:00Z",
    updatedAt: "2025-07-28T10:30:00Z",
  },
  {
    id: 4,
    jobDate: "2025-07-29",
    deliveredBy: "Anura",
    customer: 1,
    itemName: "MacBook Pro",
    serialNo: "MBP-222",
    description: "Battery draining fast",
    toDo: "Battery replacement",
    charger: true,
    powerCable: true,
    bag: true,
    toner: false,
    cartridge: false,
    ribbon: false,
    mouse: true,
    usbcable: true,
    videoCable: true,
    serviceType: 1,
    priority: 3,
    dueDate: "2025-08-03",
    status: "new",
    log: [{ status: "new", timestamp: "2025-07-29T11:00:00Z" }],
    createdAt: "2025-07-29T11:00:00Z",
    updatedAt: "2025-07-29T11:00:00Z",
  },
  {
    id: 5,
    jobDate: "2025-07-25",
    deliveredBy: "Ruwan",
    customer: 2,
    itemName: "Epson Dot Matrix",
    serialNo: "EPS-DM345",
    description: "Not printing",
    toDo: "Check ribbon + head",
    charger: false,
    powerCable: true,
    bag: false,
    toner: false,
    cartridge: false,
    ribbon: true,
    mouse: false,
    usbcable: false,
    videoCable: false,
    serviceType: 2,
    priority: 1,
    dueDate: "2025-07-28",
    status: "completed",
    log: [
      { status: "new", timestamp: "2025-07-25T10:00:00Z" },
      { status: "in_progress", timestamp: "2025-07-26T13:00:00Z" },
      { status: "completed", timestamp: "2025-07-27T17:30:00Z" },
    ],
    createdAt: "2025-07-25T10:00:00Z",
    updatedAt: "2025-07-27T17:30:00Z",
  },
  {
    id: 6,
    jobDate: "2025-07-26",
    deliveredBy: "Sanjeewa",
    customer: 3,
    itemName: "Dell Monitor",
    serialNo: "DL-MNT-987",
    description: "No display",
    toDo: "Check power supply",
    charger: false,
    powerCable: true,
    bag: false,
    toner: false,
    cartridge: false,
    ribbon: false,
    mouse: false,
    usbcable: false,
    videoCable: true,
    serviceType: 1,
    priority: 2,
    dueDate: "2025-07-29",
    status: "new",
    log: [{ status: "new", timestamp: "2025-07-26T14:00:00Z" }],
    createdAt: "2025-07-26T14:00:00Z",
    updatedAt: "2025-07-26T14:00:00Z",
  },
  {
    id: 7,
    jobDate: "2025-07-30",
    deliveredBy: "Malsha",
    customer: 1,
    itemName: "Asus Laptop",
    serialNo: "AS-3456",
    description: "Random shutdowns",
    toDo: "Thermal paste + check fan",
    charger: true,
    powerCable: true,
    bag: true,
    toner: false,
    cartridge: false,
    ribbon: false,
    mouse: true,
    usbcable: false,
    videoCable: false,
    serviceType: 1,
    priority: 2,
    dueDate: "2025-08-02",
    status: "new",
    log: [{ status: "new", timestamp: "2025-07-30T10:00:00Z" }],
    createdAt: "2025-07-30T10:00:00Z",
    updatedAt: "2025-07-30T10:00:00Z",
  },
  {
    id: 8,
    jobDate: "2025-07-31",
    deliveredBy: "Ramesh",
    customer: 1,
    itemName: "Canon Scanner",
    serialNo: "SCN-5544",
    description: "Not scanning",
    toDo: "Update driver + check lens",
    charger: false,
    powerCable: true,
    bag: false,
    toner: false,
    cartridge: false,
    ribbon: false,
    mouse: false,
    usbcable: true,
    videoCable: false,
    serviceType: 2,
    priority: 1,
    dueDate: "2025-08-01",
    status: "in_progress",
    log: [
      { status: "new", timestamp: "2025-07-31T08:00:00Z" },
      { status: "in_progress", timestamp: "2025-07-31T10:30:00Z" },
    ],
    createdAt: "2025-07-31T08:00:00Z",
    updatedAt: "2025-07-31T10:30:00Z",
  },
  {
    id: 9,
    jobDate: "2025-07-29",
    deliveredBy: "Isuru",
    customer: 2,
    itemName: "HP PC Tower",
    serialNo: "HPT-2222",
    description: "Slow performance",
    toDo: "RAM & SSD upgrade",
    charger: false,
    powerCable: true,
    bag: false,
    toner: false,
    cartridge: false,
    ribbon: false,
    mouse: false,
    usbcable: false,
    videoCable: true,
    serviceType: 1,
    priority: 2,
    dueDate: "2025-08-02",
    status: "new",
    log: [{ status: "new", timestamp: "2025-07-29T09:00:00Z" }],
    createdAt: "2025-07-29T09:00:00Z",
    updatedAt: "2025-07-29T09:00:00Z",
  },
  {
    id: 10,
    jobDate: "2025-07-30",
    deliveredBy: "Shanaka",
    customer: 3,
    itemName: "Dell Laptop",
    serialNo: "DL-LTP-888",
    description: "No power",
    toDo: "Check motherboard",
    charger: true,
    powerCable: true,
    bag: true,
    toner: false,
    cartridge: false,
    ribbon: false,
    mouse: true,
    usbcable: true,
    videoCable: false,
    serviceType: 1,
    priority: 3,
    dueDate: "2025-08-04",
    status: "new",
    log: [{ status: "new", timestamp: "2025-07-30T11:00:00Z" }],
    createdAt: "2025-07-30T11:00:00Z",
    updatedAt: "2025-07-30T11:00:00Z",
  },
];

const defaultUsers = [
  {
    "id": "1753951587118",
    "username": "voyaadmin",
    "email": "anoj@hhh.dd",
    "password_hash": "voya@admin",
    "full_name": "dsdsd",
    "phone": "888888888888888888888888",
    "profile_picture": "sd",
    "role": "admin",
    "status": "active",
    "last_login": "",
    "created_at": "2025-07-31T08:46:27.118Z",
    "updated_at": "2025-07-31T08:46:27.118Z",
    "deleted_at": ""
  },
  {
    "id": "1753951587119",
    "username": "ppcadmin",
    "email": "ppc@hhh.dd",
    "password_hash": "ppc@admin",
    "full_name": "PPC Admin",
    "phone": "0777123456",
    "profile_picture": "",
    "role": "ppcadmin",
    "status": "active",
    "last_login": "",
    "created_at": "2025-07-31T08:50:00.000Z",
    "updated_at": "2025-07-31T08:50:00.000Z",
    "deleted_at": ""
  },
  {
    "id": "1753951587120",
    "username": "admin",
    "email": "john@hhh.dd",
    "password_hash": "admin@123",
    "full_name": "John Doe",
    "phone": "0712345678",
    "profile_picture": "",
    "role": "user",
    "status": "inactive",
    "last_login": "2025-07-30T18:00:00.000Z",
    "created_at": "2025-07-30T07:00:00.000Z",
    "updated_at": "2025-07-31T08:51:00.000Z",
    "deleted_at": ""
  }
]

export default function runAppMigrations() {
  const localVersion = localStorage.getItem("appVersion");
  if (localVersion !== appConfig.version) {
    localStorage.setItem("appVersion", appConfig.version);
    localStorage.setItem("partners", JSON.stringify(defaultPartners));
    localStorage.setItem("inquiries", JSON.stringify(defaultInquiries));
        localStorage.setItem("users", JSON.stringify(defaultUsers));
  }
}
